<%@ page contentType="text/html;charset=UTF-8" %>

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Notes Sharing</title>
  <link rel="stylesheet" href="CSS/notes.css">
  <link rel="stylesheet" href="CSS/navigation_style.css">
</head>
<body>
  <%@ include file="includes/navigation.jsp" %>

  <div class="upload-btn-container">
    <button class="upload-btn" onclick="toggleForm()">+ Upload Notes</button>
  </div>

  <div class="container">
    <h2> Notes Sharing</h2>
    
    <div class="grid" id="notesList"></div>
  </div>

  <!-- Overlay & Form -->
  <div id="overlay" class="overlay" onclick="toggleForm()"></div>
  <form id="uploadForm" class="upload-form-popup" onsubmit="event.preventDefault(); uploadNote();">
    <h3>Upload New Notes</h3>
    <label for="title">Title</label>
    <input type="text" id="title" placeholder="Enter note title" required />

    <label for="file">Select PDF</label>
    <input type="file" id="file" accept="application/pdf" required />

    <button type="submit">Upload</button>
    <button type="button" class="cancel-btn" onclick="toggleForm()">Cancel</button>
  </form>

  <!-- PDF.js (for thumbnail rendering) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js';
  </script>

  <script src="SCRIPT/notes.js"></script>
</body>
</html>
